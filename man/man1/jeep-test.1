.\"
.\" Generated by predoc at 2025-09-14T03:19:37Z
.\"
.Dd September 11, 2025
.Dt JEEP-TEST 1
.Os Jeep DEVEL
.
.Sh NAME
.Nm jeep-test
.Nd run tests for a Janet project
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl c No | 
.Fl -check
.Oc
.Oo
.Fl f 
.Ar \&path No | 
.Fl -file 
.Ar \&path
.Oc
.Oo
.Fl F 
.Ar \&path No | 
.Fl -no-file 
.Ar \&path
.Oc
.Oo
.Fl t 
.Ar \&name No | 
.Fl -test 
.Ar \&name
.Oc
.Oo
.Fl T 
.Ar \&name No | 
.Fl -no-test 
.Ar \&name
.Oc
.Oo
.Fl R No | 
.Fl -no-result
.Oc
.Oo
.Ar \&check-args
.Oc
.
.Sh DESCRIPTION
.Nm
runs the tests in the 
.Eo
.Pa ./test
.Ec
directory.
The default behaviour tests every 
.Ql "\&.janet"
file but the user can use command-line options to change what tests are run.
.
.Ss Options
.Pp
.Bl -tag -width Ds
.It Xo 
.Fl c, 
.Fl -check
.Xc
Runs the check \c
.Sy bundle hook .
.It Xo 
.Fl f 
.Ar \&path, 
.Fl -file 
.Ar \&path
.Xc
Path of the file to run.
Other files are not run.
The path is relative to the 
.Eo
.Pa ./test
.Ec
directory.
Can be used multiple times.
This option is incompatible with 
.Fl -no-file .
.It Xo 
.Fl F 
.Ar \&path, 
.Fl -no-file 
.Ar \&path
.Xc
Path of the file not to run.
Other files will be run.
The path is relative to the 
.Eo
.Pa ./test
.Ec
directory.
Can be used multiple times.
This option is incompatible with 
.Fl -file .
.It Xo 
.Fl R, 
.Fl -no-result
.Xc
Skips printing the pass/fail result that Janet prints by default.
This is most useful where your test files are responsible for printing their own results.
.It Xo 
.Fl t 
.Ar \&name, 
.Fl -test 
.Ar \&name
.Xc
Name of the test to run.
Other tests are not run.
Can be used multiple times.
This option is incompatible with 
.Fl -no-test .
.It Xo 
.Fl T 
.Ar \&name, 
.Fl -no-test 
.Ar \&name
.Xc
Name of the test not to run.
Other tests will be run.
Can be used multiple times.
This option is incompatible with 
.Fl -test .
.It Xo 
.Ar \&check-args
.Xc
Arguments to pass to the check \c
.Sy bundle hook .
The check \c
.Sy bundle hook
calls a function 
.Ql "check"
defined in the userâ€™s \c
.Sy bundle script .
The first argument passed to that function is the bundle manifest.
The remaining arguments are 
.Ar \&check-args .
.El
.Pp
For more information about the \c
.Sy bundle script
and \c
.Sy bundle hooks ,
see CONCEPTS in 
.Xr jeep 1\& .
.
.Sh OPERATION
.Nm
starts a separate instance of Janet for each file tested.
By default,
this will be each file ending in 
.Ql "\&.janet" .
.Nm
provides for two bases on which to control the tests which are run:
.Pp
.Bl -ohang -offset Ds
.It Xo 
.Sy File-based
.Xc
There are two mutually exclusive options:
.Pp
.Bl -enum -offset 3n -compact
.It
The user selects the files to run using 
.Fl -file .
All other files are excluded.
.It
The user selects the files not to run using 
.Fl -no-file .
All other files are included.
.El
.It Xo 
.Sy Test-based
.Xc
There are two mutually exclusive options:
.Pp
.Bl -enum -offset 3n -compact
.It
The user selects the tests to run using 
.Fl -test .
All other tests are excluded.
.It
The user selects the tests not to run using 
.Fl -no-test .
All other tests are excluded.
.El
.Pp
This basis requires the testing framework to respect the dynamic binding 
.Ql ":tests"
(in the case of 
.Fl -test )
or 
.Ql ":skips"
(in the case of 
.Fl -no-test ) .
.El
.Pp
By default,
the check \c
.Sy bundle hook
is not run but this can be toggled with the 
.Fl -check
flag.
.
.Sh EXAMPLES
To test all the files in 
.Eo
.Pa ./test
.Ec :
.Bd -literal -offset indent
$ jeep test
.Ed
.Pp
To test only the file 
.Eo
.Pa ./test/foo.janet
.Ec :
.Bd -literal -offset indent
$ jeep test --file \&./test/foo\&.janet
.Ed
.Pp
To skip the test 
.Ql "bar" :
.Bd -literal -offset indent
$ jeep test --no-test bar
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at 
.Lk https://github.com/pyrmont/jeep
