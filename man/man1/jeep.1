.\"
.\" Generated by predoc at 2025-09-25T02:58:18Z
.\"
.Dd September 25, 2025
.Dt JEEP 1
.Os Jeep DEVEL
.
.Sh NAME
.Nm jeep
.Nd a Janet bundle manager
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl l No | 
.Fl -local
.Oc
.Ar command
.Ar arguments
.
.Sh DESCRIPTION
.Nm
is a bundle management and distribution tool for the Janet programming
language.
An invocation of
.Nm
consists of
.Ql "jeep"
followed by a command.
.
.Ss Options
.Pp
.Bl -tag -width Ds -compact
.It Xo
.Fl l , 
.Fl -local
.Xc
Sets the
.Sy syspath
to
.Eo
.Pa ./_system
.Ec .
By default,
.Nm
performs operations in respect of the global syspath.
By using
.Fl -local ,
a user sets the
.Sy syspath
to the
.Eo
.Pa ./_system
.Ec
directory.
.El
.Pp
Individual commands may support additional options.
These are written
.Em after
the command.
.
.Ss Commands
The
.Nm
utility comes with multiple commands.
More information about each command can be obtained by running
.Ql "jeep help <command>" .
.Pp
Global commands are commands that a user can run inside or outside
of a bundle directory.
.Pp
.Bl -bullet -offset 3n -compact
.It
.Cm install
- installs a Janet bundle
.It
.Cm list
- lists installed Janet bundles
.It
.Cm quickbin
- creates a binary executable
.It
.Cm uninstall
- uninstalls a Janet bundle
.El
.Pp
Bundle commands are commands that a user must run inside a bundle
directory.
.Pp
.Bl -bullet -offset 3n -compact
.It
.Cm api
- generates an API document for a bundle
.It
.Cm build
- builds the native targets of a bundle
.It
.Cm clean
- cleans directories in a bundle
.It
.Cm dep
- adds or removes dependencies from a bundle
.It
.Cm prep
- prepares dependencies for a bundle
.It
.Cm test
- runs tests for a bundle
.El
.
.Sh CONCEPTS
Bundles are the distributable units of code in Janet.
They are akin to packages in other languages.
.Pp
A bundle in Janet is a directory of files.
A valid bundle contains an
.Sy info file
and a
.Sy bundle script .
A bundle author can write functions that are registered to a\c
.Sy bundle hook
that is called during the bundle life cycle.
.
.Ss Info File
The
.Sy info file
may be located at:
.Pp
.Bl -bullet -offset 3n -compact
.It
.Eo
.Pa ./bundle/info.jdn
.Ec
.It
.Eo
.Pa ./info.jdn
.Ec
.El
.
.Ss Bundle Script
The
.Sy bundle script
may be located at:
.Pp
.Bl -bullet -offset 3n -compact
.It
.Eo
.Pa ./bundle/init.janet
.Ec
.It
.Eo
.Pa ./bundle.janet
.Ec
.El
.
.Ss Bundle Hooks
The bundle life cycle consists of an install phase and an uninstall
phase.
In the install phase,
the following hooks are called:
.Pp
.Bl -bullet -offset 3n -compact
.It
dependencies
.It
clean
.It
build
.It
install
.It
check
.El
.Pp
In the uninstall phase:
.Pp
.Bl -bullet -offset 3n -compact
.It
uninstall
.El
.Pp
A user binds a function to a
.Sy bundle hook
by providing a function with the same name in the
.Sy bundle script .
In other words,
to bind to the check
.Sy bundle hook ,
the user would write this in the
.Sy bundle script :
.Bd -literal -offset indent
\*(lpdefn check \(lBmanifest\(rB
  \*(lpeach file \*(lpget-in manifest \(lB:info :source :files\(rB\*(rp
    \*(lpperform-a-check file\*(rp\*(rp
  \*(lpprint \(dqall files checked\(dq\*(rp\*(rp
.Ed
.Pp
Every
.Sy bundle hook
receives the bundle manifest as its first argument.
The bundle manifest is a table that contains information related
to the bundle.
For bundle authors,
the most relevant piece of information is under the
.Ql ":info"
key.
The value is a table that contains the information in the
.Sy info file .
.
.Ss syspath
The
.Sy syspath
is a directory on the system that Janet uses for loading and
installing.
In the Jeep documentation,
a distinction is made between the global syspath and the local
syspath relative to a bundle.
.Pp
The global syspath is normally set to the value of
.Ev JANET_PATH .
If
.Ev JANET_PATH
is not set,
the global syspath may be set to a value baked in at compile-time
(on POSIX)
or nothing (on Windows).
.Pp
The local syspath relative to a bundle is the
.Eo
.Pa ./_system
.Ec
directory in the root of a bundle.
.
.Sh EXAMPLES
To install a bundle from a remote URL:
.Bd -literal -offset indent
$ jeep install https://example\&.org/foo
.Ed
.Pp
To install a bundle from a remote URL to the local syspath:
.Bd -literal -offset indent
$ jeep -l install https://example\&.org/foo
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at
.Lk https://github.com/pyrmont/jeep
