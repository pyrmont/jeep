.\"
.\" Generated by predoc at 2025-09-14T03:19:37Z
.\"
.Dd September 12, 2025
.Dt JEEP 1
.Os Jeep DEVEL
.
.Sh NAME
.Nm jeep
.Nd a Janet bundle manager
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl l No | 
.Fl -local
.Oc
.Ar \&command 
.Ar \&arguments
.
.Sh DESCRIPTION
.Nm
is a bundle management and distribution tool for the Janet programming language.
An invocation of 
.Nm
consists of 
.Ql "jeep"
followed by a command.
.
.Ss Options
.Pp
.Bl -tag -width Ds -compact
.It Xo 
.Fl l, 
.Fl -local
.Xc
Sets the \c
.Sy sysroot
to 
.Eo
.Pa ./_system
.Ec .
By default,
.Nm
performs operations in respect of the global sysroot.
By using 
.Fl -local ,
a user sets the \c
.Sy sysroot
to the 
.Eo
.Pa ./_system
.Ec
directory.
.El
.Pp
Individual commands may support additional options.
These are written \c
.Em after
the command.
.
.Ss Commands
The 
.Nm
utility comes with multiple commands.
More information about each command can be obtained by running 
.Ql "jeep help <command>" .
.Pp
Global commands are commands that a user can run inside or outside of a project directory.
.Pp
.Bl -bullet -offset 3n -compact
.It
.Ic \&install
- installs a Janet bundle
.It
.Ic \&quickbin
- creates a binary executable
.It
.Ic \&uninstall
- uninstalls a Janet bundle
.El
.Pp
Project commands are commands that a user must run inside a project directory.
.Pp
.Bl -bullet -offset 3n -compact
.It
.Ic \&build
- builds the native targets of a project
.It
.Ic \&clean
- cleans directories in a project
.It
.Ic \&dep
- adds or removes dependencies from a project
.It
.Ic \&prep
- prepares dependencies for a project
.It
.Ic \&test
- runs tests for a project
.El
.
.Sh CONCEPTS
Bundles are the distributable units of code in Janet.
They are akin to packages in other languages.
.Pp
A bundle in Janet is a collection of files.
A valid bundle contains an \c
.Sy info file
and a \c
.Sy bundle script .
A bundle author can write functions that are registered to a \c
.Sy bundle hook
that is called during the bundle life cycle.
.
.Ss Info File
The \c
.Sy info file
may be located at:
.Pp
.Bl -bullet -offset 3n -compact
.It
.Eo
.Pa ./bundle/info.jdn
.Ec
.It
.Eo
.Pa ./info.jdn
.Ec
.El
.
.Ss Bundle Script
The \c
.Sy bundle script
may be located at:
.Pp
.Bl -bullet -offset 3n -compact
.It
.Eo
.Pa ./bundle/init.janet
.Ec
.It
.Eo
.Pa ./bundle.janet
.Ec
.El
.
.Ss Bundle Hooks
The bundle life cycle consists of an install phase and an uninstall phase.
In the install phase,
the following hooks are called:
.Pp
.Bl -bullet -offset 3n -compact
.It
dependencies
.It
clean
.It
build
.It
install
.It
check
.El
.Pp
In the uninstall phase:
.Pp
.Bl -bullet -offset 3n -compact
.It
uninstall
.El
.Pp
A user binds a function to a \c
.Sy bundle hook
by providing a function with the same name in the \c
.Sy bundle script .
In other words,
to bind to the check \c
.Sy bundle hook ,
the user would write this in the \c
.Sy bundle script :
.Bd -literal -offset indent
(defn check \(lBmanifest]
  (each file (get-in manifest \(lB:info :source :files])
    (perform-a-check file))
  (print \(dqall files checked\(dq))
.Ed
.Pp
Every \c
.Sy bundle hook
receives the bundle manifest as its first argument.
The bundle manifest is a table that contains information related to the bundle.
For project authors,
the most relevant piece of information is under the 
.Ql ":info"
key.
The value is a table that contains the information in the \c
.Sy info file .
.
.Ss sysroot
The \c
.Sy sysroot
is a directory on the system that Janet uses for loading and installing.
In the Jeep documentation,
a distinction is made between the global sysroot and the local sysroot relative to a project.
.Pp
The global sysroot is normally set to the value of 
.Ev JANET_PATH .
If 
.Ev JANET_PATH
is not set,
the global sysroot may be set to a value baked in at compile-time (on POSIX)
or nothing (on Windows).
.Pp
The local sysroot relative to a project is the 
.Eo
.Pa ./_system
.Ec
directory in the root of a project.
.
.Sh EXAMPLES
To install a bundle from a remote URL:
.Bd -literal -offset indent
$ jeep install https://example\&.org/foo
.Ed
.Pp
To install a bundle from a remote URL to the local sysroot directory:
.Bd -literal -offset indent
$ jeep -l install https://example\&.org/foo
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at 
.Lk https://github.com/pyrmont/jeep
