.\"
.\" Generated by predoc at 2025-11-04T20:43:19Z
.\"
.Dd September 11, 2025
.Dt JEEP-DEP 1
.Os Jeep DEVEL
.
.Sh NAME
.Nm jeep-dep
.Nd add, update or remove dependency information in a Janet bundle
.
.Sh SYNOPSIS
.Nm
.Oo
.Fl a No \&|
.Fl "-autotag"
.Oc
.Oo
.Fl r No \&|
.Fl "-remove"
.Oc
.Oo
.Fl u No \&|
.Fl "-update"
.Oc
.Oo
.Fl v
.Ar dir No \&|
.Fl "-vendor"
.Ar dir
.Oc
.Ar deps
.No ...
.
.Sh DESCRIPTION
.Nm
adds,
updates or removes dependency information in a bundle’s
.Sy info file .
This command does not install dependencies;
that is the responsibility of
.Xr jeep-prep 1 .
.
.Ss Options
.Bl -tag -width Ds
.It Xo
.Fl a ,
.Fl "-autotag"
.Xc
Adds a
.Ql ":tag"
key to the dependency information that is added or updated with
the SHA of the current commit as the associated value.
.It Xo
.Fl r ,
.Fl "-remove"
.Xc
Removes the dependency information from the bundle’s
.Sy info file .
.It Xo
.Fl u ,
.Fl "-update"
.Xc
Updates the dependency information in the bundle’s
.Sy info file .
.It Xo
.Fl v
.Ar dir ,
.Fl "-vendor"
.Ar dir
.Xc
Changes the dependencies that will be vendored into
.Ar dir .
Vendoring is discussed below in
.Sx "Vendoring" .
.It Xo
.Ar deps
.No ...
.Xc
One or more dependencies to add or remove.
Dependencies can either be specified by a short name,
a URL or a JDN struct/table.
.El
.
.Ss Vendoring
A bundle’s
.Sy info file
can contain dependency information in an array/tuple mapped
to the
.Ql ":dependencies"
key.
By default,
dependencies that are added,
updated or removed using
.Nm
are added to,
updated in or removed from this data structure.
Dependencies that are listed in this data structure are installed
into the
.Sy syspath .
This will either be the global syspath or
.Eo
.Pa ./_system
.Ec ,
the local syspath,
if the user is using the
.Fl "-local"
flag as described in
.Xr jeep 1 .
.Pp
Janet does not support the installation of multiple versions
of a dependency.
To avoid version conflicts,
a user may prefer to vendor dependencies.
.Nm
supports this with the
.Fl "-vendor"
option.
Vendored dependencies are listed under the
.Ql ":vendored"
keyword and then further listed under a string that represents
the directory into which the dependency will be vendored.
This allows a bundle author to vendor dependency for certain
purposes (such as building or testing)
by vendoring dependencies into different directories.
.Pp
For more information about the
.Sy info file ,
the
.Sy bundle script
and the
.Sy syspath ,
see CONCEPTS in
.Xr jeep 1 .
.
.Sh EXAMPLES
To add a dependency to the
.Sy info file :
.Bd -literal -offset indent
$ jeep dep https://example\&.org/foo\&.git
.Ed
.Pp
To update a dependency in the
.Sy info file
with the SHA of the current commit:
.Bd -literal -offset indent
$ jeep dep -a -u foo
.Ed
.Pp
To remove a dependency from the
.Sy info file :
.Bd -literal -offset indent
$ jeep dep -r foo
.Ed
.Pp
To add two dependencies that will be vendored into the
.Eo
.Pa ./bundle
.Ec
directory:
.Bd -literal -offset indent
$ jeep dep --vendor bundle https://example\&.org/foo\&.git
https://example\&.org/bar\&.git
.Ed
.
.Sh AUTHORS
.An Michael Camilleri Aq Mt mike@inqk.net
.
.Sh BUGS
Report issues at
.Lk https://github.com/pyrmont/jeep
